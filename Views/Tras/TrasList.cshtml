@model BankZdjecOlsztyn.ViewsModels.TrasListVM
@using Microsoft.AspNetCore.Identity;

@inject SignInManager<IdentityUser>  SingInManager

<h2 class="col-12">Trasy</h2>

@foreach (var trasa in Model.Trasy)
{
    <div class="col-sm-6 col-lg-4">
        <h5>Trasa @trasa.TrasaID :</h5>
        <h3>@trasa.NazwaTrasy</h3>
        <span>Długość trasy: @trasa.DlugoscTrasy</span>


        @foreach (var item in trasa.TrasaTag)
        {
            <p style="font-size:12px">@item.Tag.Nazwa</p>

        }
        <h4>Miejsca</h4>
        @if ( trasa.TrasaMiejsce!= null)
        { 
            @foreach (var m in trasa.TrasaMiejsce)
            {
                <li> @m.Miejsce.Nazwa</li>
            }
        }
        @if (SingInManager.IsSignedIn(User))
        {
            <form asp-controller="Tras" asp-action="DeleteTras" method="post" class="form-horizontal " role="form">
                <div class="col-md-5 " style="display:none">
                    <input asp-for="id" value="@trasa.TrasaID" />
                </div>
                <div class="form-group">
                    <input type="submit" value="Delete" class="btn btn-outline-danger" />
                </div>
            </form>
        }
        <form asp-controller="Tras" asp-action="WyswietlTrase" method="post" class="form-horizontal " role="form">
            <div class="col-md-5 " style="display:none">
                <input asp-for="id" value="@trasa.TrasaID" />
            </div>
            <div class="form-group">
                <input type="submit" value="Wyswietl Trase" class="btn btn-outline-danger" />
            </div>

        </form>

    </div>
}